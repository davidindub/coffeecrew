{% extends "base.html" %}
{% load static %}

{% block extra_title %}
    - Delete {{ department.name }}
{% endblock extra_title %}
{% block content %}
    <h1>Delete {{ department.name }}?</h1>
    <p>This is irreversible.</p>

    {% if department.num_products > 0 %}
    <p class="text-danger">
   {{ department.name }} contains {% with total=department.num_categories %}{{ total }} {{ total|pluralize:"category,categories" }}{% endwith %} and {% with total=department.num_products %}{{ total }} product{{ total|pluralize }}{% endwith %}!
        <br/><br/>
        Deleting this department will also delete those categories products and is not reccomended.
        <br/><br/>
        You should move these products to different departments before deleting.
    </p>
    {% endif %}
    <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="confirm-check"/>
        <label class="form-check-label" for="confirm-check">
          I understand the consequences of deleting.
        </label>
      </div>
      <hr/>
    <form method="post" action="{% url 'department_delete' department.id %}">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.META.HTTP_REFERER }}"/>
        <button type="submit" class="btn btn-danger" id="delete-button">Delete Department</button>
    </form>
{% endblock content %}

{% block extra_js %}
    <script src="{% static 'js/confirm_delete.js' %}"></script>
{% endblock extra_js %}