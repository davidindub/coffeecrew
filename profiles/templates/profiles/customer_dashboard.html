{% extends "base.html" %}
{% block extra_title %}
    - My Account
{% endblock extra_title %}
{% block breadcrumbs %}
    <nav aria-label="breadcrumb" class="col d-flex justify-content-start">
        <ol class="breadcrumb">
            <li class="breadcrumb-item active" aria-current="page">My Account</li>
        </ol>
    </nav>
{% endblock breadcrumbs %}
{% block content %}
    <h1>Welcome, {{ request.user.first_name }}!</h1>
    <div class="row">
        <div class="col-xs-12 col-md-6">
            <h2>My Profile</h2>
            <p>{{ request.user.first_name }} {{ request.user.last_name }}</p>
            <p>Joined: {{ user.date_joined|date:"d M Y" }}</p>
            <p>Phone Number: {{ profile.default_phone_number }}</p>
            <a href="{% url 'update_account' %}" class="btn btn-cc">Update Details</a>
        </div>
        <div class="col-xs-12 col-md-6">
            <h2>My Addresses</h2>
            <h4>Shipping Address</h4>
            {% if shipping_address %}
            <a href="{% url 'update_address' 'shipping' %}">
                    {{ shipping_address }}
                    <svg aria-label="Edit Shipping Address"
                         xmlns="http://www.w3.org/2000/svg"
                         width="16"
                         height="16"
                         fill="currentColor"
                         class="bi bi-pencil"
                         viewBox="0 0 16 16">
                        <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z">
                    </svg>
                </a>
                {% else %}
                <a href="{% url 'update_address' 'shipping' %}">
                    Add a default Shipping Address
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="16"
                         height="16"
                         fill="currentColor"
                         class="bi bi-house-add"
                         viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h4a.5.5 0 1 0 0-1h-4a.5.5 0 0 1-.5-.5V7.207l5-5 6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"/>
                        <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 1 0 1 0v-1h1a.5.5 0 1 0 0-1h-1v-1a.5.5 0 0 0-.5-.5Z"/>
                    </svg>
                </a>
                {% endif %}
            </a>
            <h4>Billing Address</h4>
            {% if billing_address %}
                <a href="{% url 'update_address' 'billing' %}">
                    {{ billing_address }}
                    <svg aria-label="Edit Billing Address"
                         xmlns="http://www.w3.org/2000/svg"
                         width="16"
                         height="16"
                         fill="currentColor"
                         class="bi bi-pencil"
                         viewBox="0 0 16 16">
                        <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z">
                    </svg>
                </a>
            {% else %}
                <a href="{% url 'update_address' 'billing' %}">
                    Add a default Billing Address
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="16"
                         height="16"
                         fill="currentColor"
                         class="bi bi-house-add"
                         viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h4a.5.5 0 1 0 0-1h-4a.5.5 0 0 1-.5-.5V7.207l5-5 6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"/>
                        <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 1 0 1 0v-1h1a.5.5 0 1 0 0-1h-1v-1a.5.5 0 0 0-.5-.5Z"/>
                    </svg>
                </a>
            {% endif %}
        </div>
    </div>
    <hr class="product-hr">
    <h2>My Orders</h2>
    {% if orders %}
        {% include "includes/orders_table.html" %}
        <p>
            <a href="{% url "account_orders" %}" class="btn btn-cc">See all your orders</a>
        </p>
    {% else %}
        No Orders Yet
    {% endif %}
    <hr class="product-hr">
    <a href="{% url "account_change_password" %}"
       class="btn btn-sm btn-outline-cc">Change Password</a>
    <a href="{% url "account_logout" %}" class="btn btn-sm btn-outline-cc">Sign Out</a>
{% endblock content %}
